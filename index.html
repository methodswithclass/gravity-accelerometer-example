<html>

<head>

	<link rel="stylesheet" href="css/classes.css">
    <link rel="stylesheet" href="css/styles.css">

	<script src="js/jquery-1.11.3.min.js"></script>
	<script src="js/scripts.js"></script>

	<script>

	//these values need to be calibrated for each device
	var globals = {
		factor:0.005,
		xDir:1,
		yDir:-1
	}

	var utility = new Utility();

	//accelerometer calculation and integration parameters
	var params = {
		interval:1/600,
		filterSize:3,
		factor:1,
		mu:0.1,
		damp:0.4,
		gravity:true,
		bounce:true
	}

	//object parameters, shape is only dependent value, other values can be used to change how the object looks, or it can be hardcoded
	var objParams = {
		shape:"circle",
		size:100,
		color:"black"
	}

	$(document).ready(function () {

		//load dom elements into backend code
		var domObject = $("#object")[0];
		var arena = $("#container")[0];

		var object = new objectFactory({
			name:"object",
			object:domObject,
			arena:arena,
			params:objParams
		});
			
		var accel = new accelerometer({
			name:"accel",
			params:params,
			object:object
		});

		accel.initialize({
			arena:arena
		});

		//rubber meets road
		window.ondevicemotion = accel.motion;

		//begin integrating for device position and updating position of object
		accel.start();

	});

	</script>

	<style>

		#container {

			position:absolute;
			top:0;
			left:0;
			width:100%;
			height:100%;
		}

	</style>

</head>

<body>

	<div id="container"><div class="absolute width-200 height-200 rounded100 black-back" id="object"></div></div>

</body>

</html>